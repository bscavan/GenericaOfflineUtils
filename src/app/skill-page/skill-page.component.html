<div>
	<button>
		<app-import-modal [focus]="this" [label]="LABEL"
		[importType]="LABEL" [callback]="skillImportCallback">
			Import skill from JSON
		</app-import-modal>
	</button>
</div>
<div style="padding-bottom: 2%;">
	<button>
		<span (click)="this.saveAllSkills()">Download All Jobs</span>
	</button>
</div>

Class Skills:
<button (click)="addNewClassSkill()">Create New</button>
<!-- FIXME: This button adds a new skill to the end of the list. This isn't apparent until the user manually scrolls down... -->

<div style="padding-bottom: 3%;" >
	<div *ngIf="allClassSkills.length == 0">
		(No class skills to display)
	</div>
	<div *ngFor="let currentSkillItem of allClassSkills" class="skill-box">
		<div>
			<span class="line-starter">name: </span>
			<input type="textbox"
			[(ngModel)]="this.getClassSkill(currentSkillItem.uuid).name"
			(change)="this.updateClassSkillInService(currentSkillItem, this.getClassSkill(currentSkillItem.uuid))">

			<button (click)="removeClassSkill(currentSkillItem.uuid)" style="right: 0px">X</button>
		</div>
		<div>
			<span class="line-starter">description:</span>
			<input type="textbox" class="description"
			[(ngModel)]="this.getClassSkill(currentSkillItem.uuid).description"
			(change)="this.updateClassSkillInService(currentSkillItem, this.getClassSkill(currentSkillItem.uuid))">
		</div>

		<div><span class="line-starter">duration:</span> </div>
		<span>
			<!-- TODO: Figure out how to define a variable in the html rather than recalling getClassSkill so many times... -->
			Amount: <input type="number" [(ngModel)]="this.getClassSkill(currentSkillItem.uuid).duration.amount"
			(change)="this.updateClassSkillInService(currentSkillItem, this.getClassSkill(currentSkillItem.uuid))"> 
			Time Denomination: 
			<select [(ngModel)]="this.getClassSkill(currentSkillItem.uuid).duration.timeDenomination"
			(change)="this.updateClassSkillInService(currentSkillItem, this.getClassSkill(currentSkillItem.uuid))">
				<option *ngFor="let currentDuration of allDurations">{{currentDuration}}</option>
			</select> 
			Qualifier: 
			<select [(ngModel)]="this.getClassSkill(currentSkillItem.uuid).duration.qualifier"
			(change)="this.updateClassSkillInService(currentSkillItem, this.getClassSkill(currentSkillItem.uuid))">
				<option *ngFor="let currentQualifier of allQualifiers">{{currentQualifier}}</option>
			</select>
		</span>

		<div>
			<span class="line-starter">
				costs:
			</span>
			<button (click)="addNewCostToClassSkill(currentSkillItem.uuid)">+</button>
		</div>
		<div *ngIf="this.getClassSkill(currentSkillItem.uuid).costs.length <= 0">
			(No costs to display)
		</div>
		<div *ngFor="let currentCost of this.getClassSkill(currentSkillItem.uuid).costs; let i = index">
			Amount: <input type="number" [(ngModel)]="currentCost.costAmount"
			(change)="this.updateClassSkillInService(currentSkillItem, this.getClassSkill(currentSkillItem.uuid))">
			Denomination: 
			<select [(ngModel)]="currentCost.costDenomination"
			(change)="this.updateClassSkillInService(currentSkillItem, this.getClassSkill(currentSkillItem.uuid))">
				<option *ngFor="let currentDenomination of allDenominations">{{currentDenomination}}</option>
			</select>
			<button (click)="removeCostFromClassSkill(currentSkillItem.uuid, i)" style="right: 0px">X</button>
		</div>
		<!--
			TODO: Replace this button's text with an easy-to-understand icon.
			Also, position it better.
		-->
		<button (click)="saveClassSkill(currentSkillItem.uuid)">Download</button>
	</div>
</div>

<div>
	General Skills:
	<button (click)="addNewGenericSkill()">Create New</button>
	<div *ngIf="allGenericSkills.length == 0">
		(No General skills to display)
	</div>
	<div *ngFor="let currentSkillItem of allGenericSkills" class="skill-box">
		<div>
			<span class="line-starter">name: </span>
			<input type="textbox"
			[(ngModel)]="currentSkillItem.name"
			(change)="this.updateGenericSkillInService(currentSkillItem, this.getGenericSkill(currentSkillItem.uuid))">

			<button (click)="removeGenericSkill(currentSkillItem.uuid)" style="right: 0px">X</button>
		</div>
		<div>
			<span class="line-starter">description:</span>
			<input type="textbox" class="description"
			[(ngModel)]="this.getGenericSkill(currentSkillItem.uuid).description"
			(change)="this.updateGenericSkillInService(currentSkillItem, this.getGenericSkill(currentSkillItem.uuid))">
		</div>
		<!-- TODO: Add a button for removing this skill from the skillService. -->

		<div><span class="line-starter">duration:</span> </div>
		<span>
			<!-- TODO: Figure out how to define a variable in the html rather than recalling getGenericSkill so many times... -->
			Amount: <input type="number" [(ngModel)]="this.getGenericSkill(currentSkillItem.uuid).duration.amount"
			(change)="this.updateGenericSkillInService(currentSkillItem, this.getGenericSkill(currentSkillItem.uuid))"> 
			Time Denomination: 
			<select [(ngModel)]="this.getGenericSkill(currentSkillItem.uuid).duration.timeDenomination"
			(change)="this.updateGenericSkillInService(currentSkillItem, this.getGenericSkill(currentSkillItem.uuid))">
				<option *ngFor="let currentDuration of allDurations">{{currentDuration}}</option>
			</select> 
			Qualifier: 
			<select [(ngModel)]="this.getGenericSkill(currentSkillItem.uuid).duration.qualifier"
			(change)="this.updateGenericSkillInService(currentSkillItem, this.getGenericSkill(currentSkillItem.uuid))">
				<option *ngFor="let currentQualifier of allQualifiers">{{currentQualifier}}</option>
			</select>
		</span>

		<div>
			<span class="line-starter">
				costs:
			</span>
			<button (click)="addNewCostToGenericSkill(currentSkillItem.uuid)">+</button>
		</div>
		<div *ngIf="this.getGenericSkill(currentSkillItem.uuid).costs.length <= 0">
			(No costs to display)
		</div>
		<div *ngFor="let currentCost of this.getGenericSkill(currentSkillItem.uuid).costs; let i = index">
			Amount: <input type="number" [(ngModel)]="currentCost.costAmount"
			(change)="this.updateGenericSkillInService(currentSkillItem, this.getGenericSkill(currentSkillItem.uuid))"> 
			Denomination: 
			<select [(ngModel)]="currentCost.costDenomination"
			(change)="this.updateGenericSkillInService(currentSkillItem, this.getGenericSkill(currentSkillItem.uuid))">
				<option *ngFor="let currentDenomination of allDenominations">{{currentDenomination}}</option>
			</select>
			<button (click)="removeCostFromGenericSkill(currentSkillItem.uuid, i)" style="right: 0px">X</button>
		</div>
		<!--
			TODO: Replace this button's text with an easy-to-understand icon.
			Also, position it better.
		-->
		<button (click)="saveGenericSkill(currentSkillItem.uuid)">Download</button>
	</div>
</div>
